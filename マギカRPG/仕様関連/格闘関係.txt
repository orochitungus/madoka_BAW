N格闘
Idle・Jump・Fall・Runで格闘ボタン（WrestleDoneを実行）
	↓
AnimationState.wrestle1を実行
	↓
WrestleStart
開始フレーム（もしくは攻撃判定を発生させたいフレーム）でWrestleStartを実行
・判定を生成し・フックと一致させる
・何かに触れたら2回目以降はダメージを与えないようにする（連続ヒットを防ぐため。多段ヒット技は重ねておく。IgnoreCollisionを追加で呼ぶ）
・当たった時にダメージをどれだけ与えて、ヒットタイプがどうなるかを作る
	↓
終了フレームでWrestleFinishを実行
単発もしくは最後ならIdleかFallに戻す

関数
WrestleDone（引数としてどの格闘かを入れる）
ステートを変更							→OK
ロックオン中なら移動方向をロックオン対象のほうへ固定する	→OK
ロックオン対象の位置と自機の間からmovedirectionを算出		→OK
アニメーションを再生する					→OK

WrestleDone_GoAround_Left/_Right(相手の斜め前へ移動して回り込むタイプ）


Wrestle1（格闘系のオーバーライド）
追加入力を受け取る（Wrestleが入ったらWrestle2へ移行するフラグを立てる）	
ステップ入力が入ったら、ステップへ移行
キャンセルしたら、フックに付けたオブジェクトを破棄する

CharacterControlBase
WrestleStart
格闘フックを何個かつける(射撃フックもこっちもちでいいかもしれない）
								→OK
1段目・フックは左掌、判定は弓と同じ				→OK
格闘中は移動速度を格闘時の移動速度にする			→OK

WrestleFinish(一定時間経過かモーションが既定の位置まで到達する）							→OK
格闘動作終了時に実行
判定オブジェクトを破棄する
入力を持っていたら、次のモーションを再生する
持っていなかったら、地上→Idleに戻る、空中→Fallに戻る（IdleとFallで追加入力フラグは強制カット）

追加メンバー変数
m_AddInput							→OK
追加入力の有無を保持。trueであり

追加クラス（Wrestle_Core)					→OK
格闘判定用オブジェクトに乗る（本体→フック→Wrestle_Coreを持ったオブジェクトとなる）
このクラスを乗せた透明オブジェクトを本体のフックに引っかける
いわゆる格闘のあたり判定クラス
接触→対象にダメージを与える（自分は除く）
　　　対象を属性に応じてのけぞらせたり飛ばす
持続の概念はない（親側で壊せるので考えなくてもいい）

巻き込ませたい場合は以下の処理を追加
・何かに触れたら2回目以降はダメージを与えないようにする（連続ヒットを防ぐため。多段ヒット技は重ねておく。IgnoreCollisionを追加で呼ぶ）



攻撃力
ダウン値
覚醒ゲージ増加量
動作元のゲームオブジェクト
ヒットタイプ
吹き飛びになったときの打ち上げ量

Start（継承先で実行する）
各ステータスを初期化
自機をダメージ対象から除外する


Update（継承先で実行する）
当たったらその相手にダメージを与える
当たったらその相手にダウン値を加算する
その後、相手を判定から除外する（なし。とりあえず射撃と同じで判定を消す）

OnCollisionEnter
ヒット処理
当たったらその相手にダメージを与える.破壊は親元で行う

★ヒットSEを鳴らす						→OK
★着弾した位置にヒットエフェクトを置く	→OK

親オブジェクトを拾う
	自機がPLAYERかPLAYER_ALLYの場合
        自機がEnemyの場合
接触対象を取得
targetがCharacterControl_Baseクラスでなければ強制抜け
ダウン中かダウン値MAXならダメージを与えない

そうでないならダメージとダウン値加算を確定
	敵に触れた場合
	味方に触れた場合
	ダウン値加算

本体の覚醒ゲージを増やす

ヒット時にダメージの種類をCharacterControl_Baseに与える
ダウン値を超えていたら吹き飛びへ移行
Blow属性の攻撃を与えた場合も吹き飛びへ移行
	吹き飛びの場合、相手に方向ベクトルを与える            
        Y軸方向は少し上向き
	吹き飛びの場合、攻撃を当てた相手を浮かす（m_launchOffset) 

それ以外は多段ヒットしない程度に飛ばす
	ただしアーマー時ならダウン値とダメージだけ加算する(Damageにしない）
	アーマーなら以降の処理が関係ないのでオブジェクトを自壊させてサヨウナラ 

オブジェクトを自壊させる
複数の相手を巻き込みたい場合は以下のようにするとか
	何かに触れたら2回目以降はダメージを与えないようにする（連続ヒットを防ぐため。多段ヒット技は重ねておく。IgnoreCollisionを追加で呼ぶ）


ステップでキャンセルしたとき

動作速度を戻す

一定時間経てば自動終了（ブーストゲージを使う動作を除く）
